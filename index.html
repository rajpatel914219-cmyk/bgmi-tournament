<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BGMI Tournament</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  min-height:100vh;
  background:radial-gradient(circle at top,#0b1220,#020617);
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}

.container{
  width:100%;
  max-width:420px;
  background:linear-gradient(180deg,#0f172a,#020617);
  border-radius:18px;
  padding:25px;
  box-shadow:0 0 30px rgba(34,197,94,.2),
             inset 0 0 15px rgba(0,0,0,.6);
  text-align:center;
}

.logo{
  font-size:22px;
  font-weight:bold;
  color:#22c55e;
  margin-bottom:10px;
}

.subtitle{
  font-size:14px;
  color:#94a3b8;
  margin-bottom:15px;
}

.live-box{
  background:#1e293b;
  padding:10px;
  border-radius:10px;
  margin-bottom:20px;
  font-size:13px;
}

.status-live{
  color:#22c55e;
  font-weight:bold;
}

.status-upcoming{
  color:#facc15;
  font-weight:bold;
}

.status-finished{
  color:#ef4444;
  font-weight:bold;
}

button{
  width:100%;
  padding:14px;
  margin:10px 0;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:bold;
  cursor:pointer;
  transition:0.3s;
}

.primary{
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:white;
}

.secondary{
  background:#1e293b;
  color:white;
}

.admin{
  background:#ef4444;
  color:white;
}

button:hover{
  transform:scale(1.03);
  opacity:0.9;
}

.footer{
  margin-top:20px;
  font-size:12px;
  color:#64748b;
}
</style>
</head>

<body>

<div class="container">

  <div class="logo">ğŸ® BGMI TOURNAMENT</div>
  <div class="subtitle">Play â€¢ Compete â€¢ Win</div>

  <!-- ğŸ”¥ LIVE STATUS BOX -->
  <div class="live-box">
    ğŸ† Match Status: <span id="matchStatus">Loading...</span><br>
    ğŸ‘¥ Total Teams: <span id="teamCount">0</span><br>
    ğŸ® Current Match: <span id="currentMatch">-</span>
  </div>

  <button class="primary" onclick="goBooking()">
    ğŸ”‘ Join Tournament
  </button>

  <button class="secondary" onclick="goLeaderboard()">
    ğŸ“Š Live Leaderboard
  </button>

  <button class="secondary" onclick="goSpectator()">
    ğŸ“± Spectator Mode
  </button>

  <button class="admin" onclick="goAdmin()">
    ğŸ” Admin Panel
  </button>

  <div class="footer">
    Â© 2026 BGMI Tournament System
  </div>

</div>

<!-- ğŸ”¥ FIREBASE SCRIPT -->
<script type="module">

import { initializeApp } from 
"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

import { getDatabase, ref, onValue }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

/* ğŸ”¥ YOUR FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyDsJUtZdIXcsB0w_2MQhMBXxIgbI3ijOvg",
  databaseURL: "https://incoinpaysliveearning-default-rtdb.firebaseio.com",
  projectId: "incoinpaysliveearning"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* ğŸ”¥ LIVE TEAM COUNT */
const bookingRef = ref(db,"bookings");

onValue(bookingRef,(snapshot)=>{
  const teamCountEl = document.getElementById("teamCount");
  if(snapshot.exists()){
    teamCountEl.innerText = Object.keys(snapshot.val()).length;
  }else{
    teamCountEl.innerText = 0;
  }
});

/* ğŸ”¥ TOURNAMENT STATUS */
const tournamentRef = ref(db,"tournament");

onValue(tournamentRef,(snapshot)=>{

  const statusEl = document.getElementById("matchStatus");
  const matchEl = document.getElementById("currentMatch");

  if(!snapshot.exists()){
    statusEl.innerText="Not Set";
    return;
  }

  const data = snapshot.val();

  matchEl.innerText = data.currentMatch || "-";

  if(data.status==="live"){
    statusEl.innerHTML="<span class='status-live'>LIVE ğŸ”´</span>";
  }
  else if(data.status==="upcoming"){
    statusEl.innerHTML="<span class='status-upcoming'>UPCOMING ğŸŸ¡</span>";
  }
  else if(data.status==="finished"){
    statusEl.innerHTML="<span class='status-finished'>FINISHED âš«</span>";
  }
  else{
    statusEl.innerText="Not Set";
  }

});

</script>

<script>
function goBooking(){
  window.location.href = "booking.html";
}
function goLeaderboard(){
  window.location.href = "leaderboard.html";
}
function goSpectator(){
  window.location.href = "spectator.html";
}
function goAdmin(){
  window.location.href = "admin-login.html";
}
</script>

</body>
</html>
